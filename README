Based off of http://love2d.org/forums/viewtopic.php?f=5&t=3633
